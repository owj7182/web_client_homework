<!DOCTYPE html>
<html lang="en">
<head>    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UIêµ¬í˜„</title>    
    <style>
        body {
            background-color: #deeaf6;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0; 
        }
        
        fieldset {
            width: 400px;
            height: 500px;
            background-color: #ededed;
            padding-left: 30px;
            padding-right: 30px;
            padding-top: 100px;
        }

        /* ê°€ì…ë²„íŠ¼ */
        button {
            width: 400px;
            height: 70px;
            background-color: #c6dfb6;
            color: #506c3c;
            font-size: large;
            font-weight: bold;
        }

        /* inputë°•ìŠ¤ í´ë¦­ì‹œ í…Œë‘ë¦¬ ì—†ì• ê¸° */
        input:focus {outline:none;}

        /* ì•„ì´ë”” */
        .username {
            padding-bottom: 20px;
            height: 52px;
        }
        #username {
            width: 270px;
            border: none;
            border-bottom: dashed;
            background-color: #ededed;
        }
        
        /* íŒ¨ìŠ¤ì›Œë“œ */
        .password {
            padding-bottom: 20px;
            height: 52px;
        }
        #password {
            width: 270px;
            border: none;
            border-bottom: dashed;
            background-color: #ededed;
        }

        /* íŒ¨ìŠ¤ì›Œë“œ í™•ì¸ */
        .checkPassword {
            padding-bottom: 20px;
            height: 52px;
        }
        #checkPassword {
            width: 270px;
            border: none;
            border-bottom: dashed;
            background-color: #ededed;
        }

        /* ì´ë©”ì¼ */
        .email {
            padding-bottom: 30px;
            width: 400px;
        }
        #email1 {
            width: 123px;
            border: none;
            border-bottom: dashed;
            background-color: #ededed;
        }
        #email2 {
            width: 123px;
            border: none;
            border-bottom: dashed;
            background-color: #ededed;
        }
        /* ì£¼ì†Œ */
        .address {
            padding-bottom: 30px;
            width: 400px;
        }
        #address1 {
            width: 270px;
            border: none;
            border-bottom: dashed;
            background-color: #ededed;
        }
        #address2 {
            width: 270px;
            border: none;
            border-bottom: dashed;
            background-color: #ededed;
        }

        .msg {
            padding-left: 120px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <form name="signupFrm" action="javascript:requestSignup();" method="post">
        <fieldset>
            <div class="username">
                <span style="padding-right: 56px; font-size: large; font-weight: 900;">ì•„ì´ë””</span>
                <input type="text" name="username" id="username" required>
                <div id="idMsg" class="msg" >

                </div>
            </div>

            <div class="password">
                <span style="padding-right: 39px; font-size: large; font-weight: 900;">íŒ¨ìŠ¤ì›Œë“œ</span> 
                <input type="password" name="password" id="password" required onclick="c1();"> <br>
                <div id="pwMsg1" class="msg">
                                
                </div>
                <div id="required" class="msg">
    
                </div>
                <!-- <span style="padding-left: 118px; font-weight: 100;">
                    <sub>ì˜ë¬¸ì ëŒ€/ì†Œë¬¸ì, íŠ¹ìˆ˜ë¬¸ì, ìˆ«ì í¬í•¨ 8~32ì</sub></span> -->
            </div>

            <div class="checkPassword">
                <span style="font-size: large; font-weight: 900;">íŒ¨ìŠ¤ì›Œë“œ í™•ì¸</span>
                <input type="password" name="checkPassword" id="checkPassword" required onclick="c2();">
                <div id="pwMsg2" class="msg">
                                
                </div>
            </div>

            <div class="email">
                <span style="padding-right: 61px; font-size: large; font-weight: 900;">ì´ë©”ì¼</span>
                <input type="text" name="email1" id="email1" onclick="c3();">@<input type="text" name="email2" id="email2" onclick="c3();">
            </div>

            <div class="address">
                <span style="padding-right: 79px; font-size: large; font-weight: 900;">ì£¼ì†Œ</span>
                <input type="text" name="address1" id="address1" onclick="c3();"><br><br>
                <span style="padding-left: 120px;"><input type="text" name="address2" id="address2" onclick="c3();"></span>
            </div>

            <div>
                <button>ê°€ì…</button>
            </div>
            
        </fieldset>
    </form>
    <script>
        const frm = document.signupFrm;
        const username = frm.username;
        const password = frm.password;
        const checkPassword = frm.checkPassword;
        const email = frm.email1 + '@' + frm.email2;
        const address = frm.address1 + frm.address2;

        document.signupFrm.onsubmit = (e) => {
            
            // requiedì˜ ì˜í–¥ìœ¼ë¡œ ëœ¨ì§€ ì•ŠëŠ”ê²ƒ ê°™ë‹¤ requiredì‚­ì œ ì‹œ ì •ìƒì‘ë™í•˜ëŠ”ê±¸ ë³¼ ìˆ˜ ìˆë‹¤.
            if (!username.value || !password.value || !checkPassword.value) {
                alert('í•„ìˆ˜ ì…ë ¥ í•­ëª©ì…ë‹ˆë‹¤.');
                e.preventDefault();
                return false;
            }

            // ë¹„ë°€ë²ˆí˜¸ ì¡°ê±´ì— ë§ëŠ” ì •ê·œì‹ í‘œí˜„
            const regexps = [/^.{8,32}$/, /[A-Za-z]/, /[0-9]/, /[!@#$%^&*()]/];
            const value = password.value;

            // ë¹„ë°€ë²ˆí˜¸ ìœ íš¨ì„± ê²€ì‚¬
            if(!regexps[0].test(value)) {
                    alert('ì˜ë¬¸ì ëŒ€/ì†Œë¬¸ì íŠ¹ìˆ˜ë¬¸ì, ìˆ«ì í¬í•¨ 8 ~ 32ì');
                    e.preventDefault();
                    return;
            }
            // ì˜ë¬¸ì í¬í•¨
            if(!regexps[1].test(value)) {
                alert('ì˜ë¬¸ì ëŒ€/ì†Œë¬¸ì íŠ¹ìˆ˜ë¬¸ì, ìˆ«ì í¬í•¨ 8 ~ 32ì');
                e.preventDefault();
                return;
            }
            // ìˆ«ì í¬í•¨
            if(!regexps[2].test(value)) {
                alert('ì˜ë¬¸ì ëŒ€/ì†Œë¬¸ì íŠ¹ìˆ˜ë¬¸ì, ìˆ«ì í¬í•¨ 8 ~ 32ì');
                e.preventDefault();
                return;
            }
            // íŠ¹ìˆ˜ë¬¸ì(!@#$%^&*())í¬í•¨
            if(!regexps[3].test(value)) {
                alert('ì˜ë¬¸ì ëŒ€/ì†Œë¬¸ì íŠ¹ìˆ˜ë¬¸ì, ìˆ«ì í¬í•¨ 8 ~ 32ì');
                e.preventDefault();
                return;
            }

            // ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜ì—¬ë¶€
            if (password.value !== checkPassword.value) {
                alert('ë‘ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                password.select(); 
                e.preventDefault();
                return false;
            }
        };

        // blurì‹œ ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜ì—¬ë¶€
        checkPassword.onblur = () => {
            if (password.value !== checkPassword.value) {
                alert('ë‘ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                password.select(); 
            }
        };

        // í´ë¦­ì‹œ ë¬¸êµ¬
        // password.addEventListener('click', () => {
        //     alert('ì˜ë¬¸ì ëŒ€/ì†Œë¬¸ì, íŠ¹ìˆ˜ë¬¸ì, ìˆ«ì í¬í•¨ 8~32ì');
        //  });

        // í´ë¦­ì‹œ ë¬¸êµ¬
        password.addEventListener('click', () => {
            const password = document.getElementById("password");
            document.getElementById("required").innerHTML = "<sub>ì˜ë¬¸ì ëŒ€/ì†Œë¬¸ì, íŠ¹ìˆ˜ë¬¸ì, ìˆ«ì í¬í•¨ 8~32ì</sub>";
        });

        // blurì²˜ë¦¬ì‹œ tabìœ¼ë¡œ ë„˜ê¸¸ë•Œë„ ë¬¸êµ¬ê°€ ì¶œë ¥ë¨ 
        // id ê´€ë ¨
        username.addEventListener('blur', () => {
            for(let i=0; i<msg.length; i++){
                msg[i].innerHTML = "";
            }
        
            if(username.value==""){
                document.getElementById("idMsg").innerHTML = "<sub>í•„ìˆ˜ ì…ë ¥ í•­ëª© ì…ë‹ˆë‹¤.</sub>";
            }
        });

        // blur ì²˜ë¦¬ì‹œ ì´ë²¤íŠ¸ ì¶”ê°€
        // password ê´€ë ¨
        password.addEventListener('blur', () => {
            for(let i=0; i<msg.length; i++){
                msg[i].innerHTML = "";
            }
        
            if(username.value==""){
                document.getElementById("idMsg").innerHTML = "<sub>í•„ìˆ˜ ì…ë ¥ í•­ëª© ì…ë‹ˆë‹¤.</sub>";
            }
            if(password.value==""){
                document.getElementById("pwMsg1").innerHTML = "<sub>í•„ìˆ˜ ì…ë ¥ í•­ëª© ì…ë‹ˆë‹¤.</sub>";
            }
        });
        
        // blur ì²˜ë¦¬ì‹œ ì´ë²¤íŠ¸ ì¶”ê°€
        checkPassword.addEventListener('blur', () => {
            for(let i=0; i<msg.length; i++){
                msg[i].innerHTML = "";
            }
        
            if(username.value==""){
                document.getElementById("idMsg").innerHTML = "<sup>í•„ìˆ˜ ì…ë ¥ í•­ëª© ì…ë‹ˆë‹¤.</sup>";
            }
            if(password.value==""){
                document.getElementById("pwMsg1").innerHTML = "<sup>í•„ìˆ˜ ì…ë ¥ í•­ëª© ì…ë‹ˆë‹¤.</sup>";
            }
            if(checkPassword.value==""){
                document.getElementById("pwMsg2").innerHTML = "<sup>í•„ìˆ˜ ì…ë ¥ í•­ëª© ì…ë‹ˆë‹¤.</sup>";
            }
        })

         // í¼ ì œì¶œ ì—¬ë¶€
        const requestSignup = () => {
            console.log('íšŒì›ê°€ì… ì„±ê³µ~ ğŸ˜');
            alert(`${username.value} íšŒì›ê°€ì…ì„ í™˜ì˜í•©ë‹ˆë‹¤.`);
            frm.reset();  
        };

        const msg = document.getElementsByClassName("msg");
        
        // ì½”ë“œê°€ ì¤‘ë³µë˜ëŠ” ê²½ìš°ê°€ ë§ì•„ ì¶”í›„ì— ìˆ˜ì • í•„ìš”
        // tabìœ¼ë¡œ ë„˜ê¸¸ì‹œ "í•„ìˆ˜ì…ë ¥í•­ëª©ì…ë‹ˆë‹¤"ê°€ ì¶œë ¥ë˜ì§€ ì•ŠìŒ (ìœ„ì— ë¬¸ì œë¥¼ í•´ê²°í•˜ê³ ì blurì²˜ë¦¬ì‹œ eventì¶”ê°€)
        // ë¹„ë°€ë²ˆí˜¸ë¥¼ í´ë¦­í–ˆì„ ê²½ìš° ì•„ì´ë””ê°€ ê³µë°±ì¼ ê²½ìš° "í•„ìˆ˜ì…ë ¥í•­ëª©ì…ë‹ˆë‹¤" ì¶œë ¥
        function c1() {
            for(let i=0; i<msg.length; i++){
                msg[i].innerHTML = "";
            }
        
            if(username.value==""){
                document.getElementById("idMsg").innerHTML = "<sub>í•„ìˆ˜ ì…ë ¥ í•­ëª© ì…ë‹ˆë‹¤.</sub>";
            }
        }

        // ë¹„ë°€ë²ˆí˜¸ í™•ì¸ì„ í´ë¦­í–ˆì„ ê²½ìš° ì•„ì´ë””, ë¹„ë°€ë²ˆí˜¸ê°€ ê³µë°±ì¼ ê²½ìš° "í•„ìˆ˜ì…ë ¥í•­ëª©ì…ë‹ˆë‹¤" ì¶œë ¥
        function c2() {
            for(let i=0; i<msg.length; i++){
                msg[i].innerHTML = "";
            }
        
            if(username.value==""){
                document.getElementById("idMsg").innerHTML = "<sub>í•„ìˆ˜ ì…ë ¥ í•­ëª© ì…ë‹ˆë‹¤.</sub>";
            }
            if(password.value==""){
                document.getElementById("pwMsg1").innerHTML = "<sub>í•„ìˆ˜ ì…ë ¥ í•­ëª© ì…ë‹ˆë‹¤.</sub>";
            }
        }
        
        // ì´ë©”ì¼, ì£¼ì†Œë¥¼ í´ë¦­í–ˆì„ ê²½ìš° ì•„ì´ë””,ë¹„ë°€ë²ˆí˜¸,ë¹„ë°€ë²ˆí˜¸í™•ì¸ ê°’ì´ ê³µë°±ì¼ ê²½ìš° "í•„ìˆ˜ì…ë ¥í•­ëª©ì…ë‹ˆë‹¤" ì¶œë ¥
        function c3(){
            for(let i=0; i<msg.length; i++){
                msg[i].innerHTML = "";
            }
        
            if(username.value==""){
                document.getElementById("idMsg").innerHTML = "<sup>í•„ìˆ˜ ì…ë ¥ í•­ëª© ì…ë‹ˆë‹¤.</sup>";
            }
            if(password.value==""){
                document.getElementById("pwMsg1").innerHTML = "<sup>í•„ìˆ˜ ì…ë ¥ í•­ëª© ì…ë‹ˆë‹¤.</sup>";
            }
            if(checkPassword.value==""){
                document.getElementById("pwMsg2").innerHTML = "<sup>í•„ìˆ˜ ì…ë ¥ í•­ëª© ì…ë‹ˆë‹¤.</sup>";
            }
            
        }
    </script>
</body>
</html>
